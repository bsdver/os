#!/bin/sh

while :
do

clear

echo '### backup for proton packages'
echo 'bp - create .i386-wine-pkg.tar.xz'
echo '### portwine'
echo 'pp - prepare for portwine'
echo 'pi - installation of portwine'
echo 'pi - remove all files of portwine'
echo '### system commands'
echo 'upd - close techno'
echo 'exit - close techno'
echo ''
echo -n 'Choose your number: '
 read ans
 case "$ans" in
  bp)
  export XZ_OPT=-9 
  tar cvJf .i386-wine-pkg.tar.xz .i386-wine-pkg
  ;;
  pp)
   echo 'nothing'
   sleep 4
  ;;
  pi)
   lxterminal --geometry=80x20 -e 'wget -c -T 5 https://portwine-linux.ru/ftp/portwine/PortProton-95 && sh "./PortProton-95"' &
  ;;
  pr)
   rm -rf PortProton-95
   rm -rf .PortProton-95
  ;;
  upd)
   ### update techno
   fetch https://github.com/bsdver/so/archive/refs/heads/main.zip
   unzip main.zip
   mv so-main/techno .techno
   sudo chmod +x .techno
   rm -rf so-main
   rm main.zip
   xterm -geometry 73x41-0-25 -e ./.techno &
   sleep 2
   break
  ;;
  exit)
   echo 'Exit.'
   sleep 1
   break
  ;;
  *)
   echo "Error. Please, type number. Start again..."
  ;;
 esac
done
